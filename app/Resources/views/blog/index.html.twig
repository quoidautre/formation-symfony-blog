{% extends ':blog:layout.html.twig' %}
{% block title %} {{ parent() }} - Index{% endblock %}

{% block blog_body %}
    {% for message in app.session.flashbag.get('error') %}
        <p class="alert alert-danger">{{ message }}</p>
    {% endfor %}
    {% for message in app.session.flashbag.get('notice') %}
        <p class="alert alert-success">{{ message }}</p>
    {% endfor %}

    <h2> <span class="label label-danger">index</span></h2>


    {% for article in articles %}
        <div class="row">
            <div class="col-md-8"> 
                <div class="well">
                    <h3 class="panel-title"><a href="{{path('read_blog', {'id': article.id})}}">{{article.title}}</a></span></h3>
                    <p>>> {{article.content|raw}}</p>
                </div>
            </div>
            <div class="col-md-4"> 
                {% if  article.image.url is defined %}
                    <img src="{{article.image.url}}" alt="{{article.image.alt}}" width="50" height="50">
                {% endif %}
            </div>
        </div>

    {% endfor %}
{% endblock %}
{% block javascripts %}
    <script src="//code.jquery.com/jquery-3.2.1.min.js"></script>
    <script language="JavaScript">
        $(function() {
            if ( $('p.alert').length ) {
                console.log("fade out....");
                $(this).fadeOut( "slow", function() {} );
            } else {
                console.log("item not present !");
            }
        });
    </script>

{% endblock %}

